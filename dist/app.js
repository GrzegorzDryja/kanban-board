!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class r{constructor(t,e,n,r){this.templateElement=document.getElementById(t),this.targetElement=document.getElementById(e);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild,r&&(this.element.id=r),this.attach(n)}attach(t){this.targetElement.insertAdjacentElement(t?"afterbegin":"beforeend",this.element)}}function s(t,e,n){const r=n.value;return{configurable:!0,get(){return r.bind(this)}}}var a;!function(t){t[t.ToDo=0]="ToDo",t[t.InProgress=1]="InProgress",t[t.Done=2]="Done"}(a||(a={}));class i{constructor(t,e,n,r,s){this.id=t,this.task=e,this.status=n,this.time=r,this.timeInterval=s}}class o extends class{constructor(){this.listeners=[]}addListener(t){this.listeners.push(t)}}{constructor(){super(),this.tasks=[]}static getInstance(){return this.instance||(this.instance=new o),this.instance}addTask(t){const e=new i(Math.random().toString(),t,a.ToDo,0,0);this.tasks.push(e),this.updateListeners()}moveTask(t,e){const n=this.tasks.find(e=>e.id===t);n&&n.status!==e&&(n.status=e,this.updateListeners())}updateListeners(){for(const t of this.listeners)t(this.tasks.slice())}}const l=o.getInstance();var d=function(t,e,n,r){var s,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(i=(a<3?s(i):a>3?s(e,n,i):s(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};class u extends r{constructor(){super("input-form","target",!0,"user-input"),this.taskInput=this.element.querySelector("#task"),this.counter=this.element.querySelector("#counter"),this.configure(),this.renderContent()}renderContent(){this.taskInput.addEventListener("keyup",t=>{this.counter.innerText=this.taskInput.value.length+"/256"})}configure(){this.element.addEventListener("submit",this.submitHandler)}gatherUserInput(){const t=this.taskInput.value;return function(t){let e=!0;return t.required&&(e=e&&0!==t.value.toString().trim().length),null!=t.minLength&&"string"==typeof t.value&&(e=e&&t.value.length>=t.minLength),null!=t.maxLength&&"string"==typeof t.value&&(e=e&&t.value.length<=t.maxLength),e}({value:t,required:!0,minLength:1,maxLength:256})?t:void alert("Invalid input, try again.")}clearInputs(){this.taskInput.value="",this.counter.innerText="0/256"}submitHandler(t){t.preventDefault();const e=this.gatherUserInput();e&&(l.addTask(e),this.clearInputs())}}d([s],u.prototype,"submitHandler",null);class c extends r{constructor(t,e){super("stats-item","ul-stats",!1),this.task=t,this.time=e,this.renderContent()}configure(){}renderContent(){const t=Math.floor(this.time/3600),e=Math.floor(this.time/60),n=this.time%60,r=this.addZero(t),s=this.addZero(e),a=this.addZero(n);this.element.textContent=`Task "${this.task}" was in-progress state for ${r}:${s}:${a}`}addZero(t){return t<10?"0"+t:t}}var h=function(t,e,n,r){var s,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(i=(a<3?s(i):a>3?s(e,n,i):s(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};class f extends r{constructor(t,e){super("single-task",t,!1,e.id),this.task=e,this.configure(),this.renderContent()}dragStartHandler(t){t.dataTransfer.setData("text/plain",this.task.id),t.dataTransfer.effectAllowed="move"}dragEndHandler(t){1===this.task.status?this.count():this.stop()}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)}renderContent(){this.element.textContent=this.task.task}count(){this.task.timeInterval=window.setInterval(()=>{this.task.time++},1e3)}stop(){clearInterval(this.task.timeInterval),new c(this.task.task,this.task.time)}}h([s],f.prototype,"dragStartHandler",null),h([s],f.prototype,"dragEndHandler",null);var p=function(t,e,n,r){var s,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(i=(a<3?s(i):a>3?s(e,n,i):s(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};class g extends r{constructor(t){super("kanban-board","flex-container",!1,t+"-task"),this.state=t,this.assignedTasks=[],this.configure(),this.renderContent()}dragOverHandler(t){if(t.dataTransfer&&"text/plain"===t.dataTransfer.types[0]){t.preventDefault();const e=this.element.querySelector("ul");null==e||e.classList.add("droppable")}}dropHandler(t){t.preventDefault();const e=t.dataTransfer.getData("text/plain");l.moveTask(e,"to-do"===this.state?a.ToDo:"in-progress"===this.state?a.InProgress:a.Done)}dragLeaveHandler(t){const e=this.element.querySelector("ul");null==e||e.classList.remove("droppable")}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),l.addListener(t=>{const e=t.filter(t=>"to-do"===this.state?t.status===a.ToDo:"in-progress"===this.state?t.status===a.InProgress:t.status===a.Done);this.assignedTasks=e,this.renderTasks()})}renderContent(){const t=""+this.state;this.element.querySelector("ul").id=t,this.element.querySelector("h2").textContent=this.state.toUpperCase()+" TASKS"}renderTasks(){document.getElementById(""+this.state).innerHTML="";for(const t of this.assignedTasks)new f(this.element.querySelector("ul").id,t)}}p([s],g.prototype,"dragOverHandler",null),p([s],g.prototype,"dropHandler",null),p([s],g.prototype,"dragLeaveHandler",null);new u,new g("to-do"),new g("in-progress"),new g("done"),new class extends r{constructor(){super("stats","target",!1),this.configure(),this.renderContent()}configure(){}renderContent(){this.element.querySelector("ul").id="ul-stats"}}}]);